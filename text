exports.allcat = async (req, res) => {
  const { category, subcategory } = req.query;
  console.log("Category:", category);
  console.log("Subcategory:", subcategory);

  let sql = `SELECT DISTINCT shop.* FROM shop`;

  // Join with category table if category filter is provided
  if (category) {
      sql += ` INNER JOIN category ON shop.category_id = category.category_id WHERE category.category_id IN (${category})`;
  } else {
      sql += ` INNER JOIN category ON shop.category_id = category.category_id`;
  }

  // Join with subcategory table if subcategory filter is provided
  if (subcategory) {
      sql += ` INNER JOIN sub_category ON shop.subcategory_id = sub_category.subcategory_id WHERE sub_category.subcategory_id IN (${subcategory})`;
  }
